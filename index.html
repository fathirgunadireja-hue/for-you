<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Siti Hajar Almakki!â¤ï¸</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles.css">
    <style>
        /* Foto kue ulang tahun bulat */
        .cake-photo,
        .gallery-cake-photo,
        .birthday-cake-photo {
            border-radius: 50%;
            object-fit: cover;
            display: inline-block;
            vertical-align: middle;
        }
        
        .cake-photo {
            width: 80px;
            height: 80px;
        }
        
        .gallery-cake-photo {
            width: 140px;
            height: 140px;
        }
        
        .birthday-cake-photo {
            width: 400px;
            height: 400px;
        }
        
        .memory-card-back .cake-photo {
            width: 70px;
            height: 70px;
        }
    </style>
</head>
<body>
    <!-- MUSIC PLAYER -->
    <div class="music-player" id="musicPlayer">
        <div class="music-header">
            <i class="fas fa-music"></i>
            <span class="music-title">Pilih Musik yaa!!</span>
            <button class="music-close" id="musicClose" title="Kecilkan">&times;</button>
        </div>
        <div class="music-options">
            <button class="music-btn" data-song="1">
                <i class="fas fa-compact-disc"></i>
                <div class="music-info">
                    <div class="music-name">A Thousand Years</div>
                </div>
            </button>
            <button class="music-btn" data-song="2">
                <i class="fas fa-compact-disc"></i>
                <div class="music-info">
                    <div class="music-name">Give Me Your Forever</div>
                </div>
            </button>
            <button class="music-btn" data-song="3">
                <i class="fas fa-compact-disc"></i>
                <div class="music-info">
                    <div class="music-name">You!</div>
                </div>
            </button>
        </div>
        <div class="music-controls">
            <button class="music-control-btn" id="muteBtn" title="Mute/Unmute">
                <i class="fas fa-volume-up"></i>
            </button>
            <div class="music-progress">
                <div class="progress-bar" id="progressBar"></div>
            </div>
            <span class="music-time" id="musicTime">0:00</span>
        </div>
    </div>

    <!-- PASSWORD SCREEN -->
    <div class="password-container" id="passwordContainer">
        <div class="password-background-animation" id="backgroundAnimation"></div>
        
        <div class="password-box">
            <div class="lock-icon">
                <i class="fas fa-lock"></i>
            </div>
            
            <h1 class="password-title">ğŸ”Kode AksesğŸ”</h1>
            <p class="password-subtitle">hihii, tebakk yaa passwordnyaa!!ğŸ’•</p>
            
            <div class="password-input-group">
                <label class="password-label">Kode Akses (4 digit):</label>
                <div class="password-input-wrapper">
                    <input type="text" class="password-digit" maxlength="1" data-index="0" inputmode="numeric">
                    <input type="text" class="password-digit" maxlength="1" data-index="1" inputmode="numeric">
                    <input type="text" class="password-digit" maxlength="1" data-index="2" inputmode="numeric">
                    <input type="text" class="password-digit" maxlength="1" data-index="3" inputmode="numeric">
                </div>
            </div>
            
            <div class="password-buttons">
                <button class="password-num-btn" data-num="1">1</button>
                <button class="password-num-btn" data-num="2">2</button>
                <button class="password-num-btn" data-num="3">3</button>
                <button class="password-num-btn" data-num="4">4</button>
                <button class="password-num-btn" data-num="5">5</button>
                <button class="password-num-btn" data-num="6">6</button>
                <button class="password-num-btn" data-num="7">7</button>
                <button class="password-num-btn" data-num="8">8</button>
                <button class="password-num-btn" data-num="9">9</button>
                <button class="password-num-btn" data-num="0">0</button>
            </div>
            
            <div class="password-action-buttons">
                <button class="password-delete-btn" id="deleteBtn">
                    <i class="fas fa-backspace"></i> Hapus
                </button>
                <button class="password-submit-btn" id="submitBtn" disabled>
                    <i class="fas fa-check"></i> Buka
                </button>
            </div>
            
            <div class="password-message" id="passwordMessage"></div>
            
            <div class="password-hint">
                ğŸ’¡ Hint: lahirnya myfav person!!... MMDD
            </div>
        </div>
    </div>

    <!-- NAVBAR -->
    <nav class="navbar">
        <div class="navbar-content">
            <button class="hamburger" id="hamburgerBtn" aria-label="Menu">
                <span></span>
                <span></span>
                <span></span>
            </button>
            <ul class="navbar-menu" id="navbarMenu">
                <li><a href="#/home"><i class="fas fa-home"></i> Home</a></li>
                <li><a href="#/game.html"><i class="fas fa-gamepad"></i> Game</a></li>
                <li><a href="#/gallery.html"><i class="fas fa-images"></i> Galeri</a></li>
                <li><a href="#/messages.html"><i class="fas fa-envelope"></i> Pesan</a></li>
                <li><a href="#/timeline.html"><i class="fas fa-heart"></i> Timeline</a></li>
            </ul>
        </div>
    </nav>

    <div class="homepage-container">
        <div class="stars" id="starsContainer"></div>
        
        <div class="homepage-content">
            <h1 class="main-title">halloo Siti Hajar Almakki! ğŸ‘‹</h1>
            <p class="subtitle">website ini spesial tauu, karena isinya tentang kamuu...</p>
            
            <div class="nav-buttons">
                <a href="#/game.html" class="nav-card">
                    <div class="nav-card-icon">ğŸ®</div>
                    <div class="nav-card-title">Mainkan Game</div>
                    <div class="nav-card-desc">Serius? Harus dimainkan sih! ğŸ˜</div>
                </a>

                <a href="#/gallery.html" class="nav-card">
                    <div class="nav-card-icon">ğŸ“¸</div>
                    <div class="nav-card-title">Galeri Kita</div>
                    <div class="nav-card-desc">Lihat kenangan-kenangan ganteng ğŸ˜˜</div>
                </a>

                <a href="#/messages.html" class="nav-card">
                    <div class="nav-card-icon">ğŸ’Œ</div>
                    <div class="nav-card-title">Pesan Cinta</div>
                    <div class="nav-card-desc">Mungkin bikin kamu nangis ğŸ¥ºâ¤ï¸</div>
                </a>

                <a href="#/timeline.html" class="nav-card">
                    <div class="nav-card-icon">ğŸ’•</div>
                    <div class="nav-card-title">Perjalanan Kita</div>
                    <div class="nav-card-desc">Dari dulu sampai sekarang (cerita panjang ğŸ“–)</div>
                </a>
            </div>
        </div>
    </div>

    <main id="spaView" style="display:none;"></main>

    <!-- HIDDEN SECTIONS - Diload via SPA -->
    <div id="hidden-sections-container" style="display: none !important; visibility: hidden !important; position: fixed !important; top: -99999px !important; left: -99999px !important; width: 0 !important; height: 0 !important; overflow: hidden !important; opacity: 0 !important; pointer-events: none !important; z-index: -9999 !important;">
    
    <!-- GAME SECTION -->
    <section id="game-section" class="page-section">
        <div class="container">
            <!-- HEADER GAME -->
            <div class="game-header">
                <h1 class="game-title">Petualangan Ulang Tahun! ğŸ®</h1>
                <p class="game-subtitle">Selesaikan semua level untuk hadiah spesial! ğŸ’–</p>
            </div>

            <!-- STATS GAME -->
            <div class="game-stats">
                <div class="stat-item">
                    <div class="stat-value" id="level">1</div>
                    <div class="stat-label">Level</div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="levelProgress" style="width: 20%"></div>
                    </div>
                </div>

                

                <div class="stat-item">
                    <div class="stat-value" id="score">0</div>
                    <div class="stat-label">Poin</div>
                    <div class="progress-bar">
                        <div class="progress-fill" id="scoreProgress" style="width: 0%"></div>
                    </div>
                </div>
            </div>

            <!-- LEVEL SELECTION -->
            <div class="levels-container">
                <div class="level-card active" data-level="1">
                    <div class="level-badge active">1</div>
                    <div class="level-icon">ğŸ§©</div>
                    <h3 class="level-title">Puzzle</h3>
                    <div class="level-reward">+50 Poin</div>
                </div>

                <div class="level-card locked" data-level="2">
                    <div class="level-badge locked">2</div>
                    <div class="level-icon">â“</div>
                    <h3 class="level-title">Quizz</h3>
                    <div class="level-reward">+100 Poin</div>
                </div>

                <div class="level-card locked" data-level="3">
                    <div class="level-badge locked">3</div>
                    <div class="level-icon">ğŸ’</div>
                    <h3 class="level-title">Tangkap Hati</h3>
                    <div class="level-reward">+150 Poin</div>
                </div>

                <div class="level-card locked" data-level="4">
                    <div class="level-badge locked">4</div>
                    <div class="level-icon">ğŸ</div>
                    <h3 class="level-title">Hadiah</h3>
                    <div class="level-reward">+200 Poin</div>
                </div>
            </div>

            <!-- GAME CONTENT AREA -->
            <div id="gameContent" class="game-content active">
                <!-- Konten akan diisi secara dinamis oleh JavaScript -->
            </div>

            <!-- GAME CONTROLS -->
            <div class="game-controls">
                <button class="game-button" id="prevBtn" disabled>
                    <i class="fas fa-arrow-left"></i> Sebelumnya
                </button>
                <button class="game-button secondary" id="hintBtn">
                    <i class="fas fa-lightbulb"></i> Petunjuk
                </button>
                <button class="game-button" id="nextBtn">
                    Selanjutnya <i class="fas fa-arrow-right"></i>
                </button>
                <div class="reset-row">
                    <button id="resetGameBtn" class="reset-btn">ğŸ”„ Reset Game</button>
                </div>
            </div>
        </div>

        <!-- POPUP -->
        <div class="popup" id="popup">
            <div class="popup-content">
                <div class="popup-icon" id="popupIcon">ğŸ‰</div>
                <h2 class="popup-title" id="popupTitle">Level Selesai!</h2>
                <p class="popup-text" id="popupText">Selamat! Kamu berhasil!</p>
                <button class="btn" id="popupBtn">Lanjutkan</button>
            </div>
        </div>

        <!-- AUDIO -->
        <audio id="clickSound" src="https://assets.mixkit.co/sfx/preview/mixkit-select-click-1109.mp3" preload="auto"></audio>
        <audio id="successSound" src="https://assets.mixkit.co/sfx/preview/mixkit-winning-chimes-2015.mp3" preload="auto"></audio>
    </section>

    <!-- GALLERY SECTION -->
    <section id="gallery-section" class="page-section">
        <div class="container">
            <h1 class="page-title">ğŸ“¸ Galeri Kenangan Kita ğŸ“¸</h1>
            <p class="page-subtitle">Setiap momen dengan kamu adalah kenangan berharga ğŸ’•</p>
            
            <div class="gallery-grid">
                <div class="gallery-item" data-id="1">
                    <div class="gallery-emoji">ğŸ“</div>
                    <h3>Wisuda Bersama</h3>
                </div>
                <div class="gallery-item" data-id="2">
                    <div class="gallery-emoji">ğŸŒ…</div>
                    <h3>Fajar di Pantai</h3>
                </div>
                <div class="gallery-item" data-id="3">
                    <div class="gallery-emoji">ğŸ‚</div>
                    <h3>Ulang Tahun Pertama</h3>
                </div>
                <div class="gallery-item" data-id="4">
                    <div class="gallery-emoji">âœˆï¸</div>
                    <h3>Petualangan ke Bali</h3>
                </div>
                <div class="gallery-item" data-id="5">
                    <div class="gallery-emoji">ğŸ’‘</div>
                    <h3>Momen Intim Kita</h3>
                </div>
                <div class="gallery-item" data-id="6">
                    <div class="gallery-emoji">ğŸª</div>
                    <h3>Pesta Kejutan</h3>
                </div>
                <div class="gallery-item" data-id="7">
                    <div class="gallery-emoji">ğŸ½ï¸</div>
                    <h3>Makan Malam Romantis</h3>
                </div>
                <div class="gallery-item" data-id="8">
                    <div class="gallery-emoji">ğŸ­</div>
                    <h3>Konser Musik Bersama</h3>
                </div>
                <div class="gallery-item" data-id="9">
                    <div class="gallery-emoji">ğŸŒ¸</div>
                    <h3>Piknik di Taman Bunga</h3>
                </div>
            </div>
        </div>

        <!-- MODAL -->
        <div class="modal" id="modal">
            <div class="modal-content">
                <span class="modal-close">&times;</span>
                <div class="modal-image" id="modalImage">ğŸ“¸</div>
                <h2 class="modal-title" id="modalTitle">Judul Kenangan</h2>
                <p class="modal-date" id="modalDate">Tanggal</p>
                <p class="modal-description" id="modalDescription">Deskripsi</p>
                <div class="modal-actions">
                    <button class="modal-btn" id="likeBtn">
                        <i class="fas fa-heart"></i> Suka (<span id="likeCount">0</span>)
                    </button>
                </div>
            </div>
        </div>
    </section>

    <!-- MESSAGES SECTION -->
    <section id="messages-section" class="page-section">
        <div class="container">
            <h1 class="page-title">ğŸ’Œ Love Notes dari Aku ğŸ’Œ</h1>
            <!-- Messages Container -->
            <div class="messages-container">
                <div class="message-card">
                    <div class="message-header">
                        <div class="message-icon">â¤ï¸</div>
                        <div>
                            <h3 class="message-title">Aku Cinta Kamu Karena... ğŸ¤·â€â™€ï¸</h3>
                            <p class="message-time">Ditulis sambil tersenyum menyebalkan</p>
                        </div>
                    </div>
                    <div class="message-content">
                        "Aku cinta kamu karena cara kamu melihatku seperti aku ini istimewa, padahal kamu lebih istimewa. Aku cinta kamu karena kamu bikin aku tertawa sampai pelupuk mata aku ngilu. Tapi yang paling bikin aku cinta adalah... karena kamu itu kamu, dan tidak ada yang bisa mengganti itu. Point blank! ğŸ’‹"
                    </div>
                    <div class="message-actions">
                        <button class="message-action-btn">
                            <i class="fas fa-heart"></i> Suka
                        </button>
                        <button class="message-action-btn">
                            <i class="fas fa-comment"></i> Balas
                        </button>
                        <div class="reaction-counter">â¤ï¸ 999+</div>
                    </div>
                </div>

                <div class="message-card">
                    <div class="message-header">
                        <div class="message-icon">ğŸŒŸ</div>
                        <div>
                            <h3 class="message-title">Top 3 Hal Paling Nyebelin Tentang Kamu ğŸ˜¤</h3>
                            <p class="message-time">Tapi paling aku sayangin</p>
                        </div>
                    </div>
                    <div class="message-content">
                        "Pertama: Cara kamu terlihat cantik tanpa usaha keras. Gaara! Aku harus sadar diri. Kedua: Kamu bisa bikin aku ketawa di saat paling gawat. Itu curang banget! Dan ketiga: Cara kamu cinta aku dengan 100% hati nurani, tanpa kompromi. Itu yang paling nyebelin karena aku jadi merasa guilty kalau aku tidak memberikan yang sama. Tapi thanks ya udah ngajarin aku gimana caranya cinta yang beneran. ğŸ¥ºğŸ’–"
                    </div>
                    <div class="message-actions">
                        <button class="message-action-btn">
                            <i class="fas fa-heart"></i> Suka
                        </button>
                        <button class="message-action-btn">
                            <i class="fas fa-comment"></i> Balas
                        </button>
                        <div class="reaction-counter">â¤ï¸ 888</div>
                    </div>
                </div>

                <div class="message-card">
                    <div class="message-header">
                        <div class="message-icon">ğŸ‚</div>
                        <div>
                            <h3 class="message-title">Masa Depan Kita (Spoiler Alert! âš ï¸)</h3>
                            <p class="message-time">Rencana rahasia yang udah aku pikirin</p>
                        </div>
                    </div>
                    <div class="message-content">
                        "Aku ingin terus nyebelin kamu sampai kita tua. Aku ingin teman tidurku selamanya adalah kamu (dan juga kucing kalau kita adopt ğŸ˜¹). Aku ingin masa depan kita penuh dengan tawa, petualangan, dan mungkin sedikit drama (tapi yang lucu ya, bukan yang serius!). Yang paling penting, aku ingin setiap hari bangun dan lihat wajah bahagia kamu, tahu bahwa aku adalah alasan kamu tersenyum. Kamu mau nggak? ğŸ‘‰ğŸ‘ˆğŸ’•"
                    </div>
                    <div class="message-actions">
                        <button class="message-action-btn">
                            <i class="fas fa-heart"></i> Suka
                        </button>
                        <button class="message-action-btn">
                            <i class="fas fa-comment"></i> Balas
                        </button>
                        <div class="reaction-counter">â¤ï¸ 777</div>
                    </div>
                </div>

                <div class="message-card">
                    <div class="message-header">
                        <div class="message-icon">âœ¨</div>
                        <div>
                            <h3 class="message-title">Thank You, My Love ğŸ¥º</h3>
                            <p class="message-time">Dari hati yang terdalam</p>
                        </div>
                    </div>
                    <div class="message-content">
                        "Terima kasih sudah menjadi orang yang aku tunggu-tunggu. Terima kasih karena kamu mengerti aku bahkan saat aku sendiri tidak mengerti diri sendiri. Terima kasih karena kamu membuat hidup ini menjadi lebih berwarna. Dan terima kasih karena kamu memilih untuk tetap bersama aku. Kamu adalah hadiah terbesar yang pernah aku terima. ğŸ’ğŸ€"
                    </div>
                    <div class="message-actions">
                        <button class="message-action-btn">
                            <i class="fas fa-heart"></i> Suka
                        </button>
                        <button class="message-action-btn">
                            <i class="fas fa-comment"></i> Balas
                        </button>
                        <div class="reaction-counter">â¤ï¸ 1K+</div>
                    </div>
                </div>

                <div class="message-card special-message">
                    <div class="message-header">
                        <div class="message-icon">ğŸ‰</div>
                        <div>
                            <h3 class="message-title">Selamat Ulang Tahun Sayang! ğŸ‚âœ¨</h3>
                            <p class="message-time">Spesial untuk hari spesialmu</p>
                        </div>
                    </div>
                    <div class="message-content">
                        "SELAMAT ULANG TAHUN CANTIK/GANTENG! ğŸ‰ğŸ‚âœ¨ Hari ini bukan hanya hari istimewa buat kamu, tapi juga buat aku karena aku mendapat privilege untuk merayakan hari istimewa ini bersama dengan orang yang paling aku cinta. Aku harap hari ini kamu tersenyum sepuasnya, ketawa sampe perut sakit, dan merasakan kebahagiaan yang setinggi langit. Kamu layak mendapatkan semuanya yang terbaik. Aku cinta kamu, sekarang dan selamanya. Selamat menulis halaman baru dalam kisah hidup kita! ğŸ’•ğŸŠ"
                    </div>
                    <div class="message-actions">
                        <button class="message-action-btn">
                            <i class="fas fa-heart"></i> Suka
                        </button>
                        <button class="message-action-btn">
                            <i class="fas fa-comment"></i> Balas
                        </button>
                        <div class="reaction-counter">â¤ï¸ INFINITE ğŸ’•</div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- TIMELINE SECTION -->
    <section id="timeline-section" class="page-section">
        <div class="container">
            <h1 class="page-title">ğŸ’• Perjalanan Kita ğŸ’•</h1>
            <p class="page-subtitle">Dari yang dulu sampai sekarang, setiap momen adalah spesial ğŸ“–âœ¨</p>

            <div class="timeline">
                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <div class="timeline-content">
                        <div class="timeline-date">
                            <span class="timeline-month">Juni</span>
                            <span class="timeline-year">2019</span>
                        </div>
                        <h3 class="timeline-title">Pertama Kali Ketemu</h3>
                        <p class="timeline-text">Hari yang mengubah semuanya. Aku masih ingat bagaimana aku gugup bertemu denganmu untuk pertama kalinya. Matamu yang indah, senyumanmu yang lembut... semua terasa seperti takdir.</p>
                    </div>
                </div>

                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <div class="timeline-content">
                        <div class="timeline-date">
                            <span class="timeline-month">Agustus</span>
                            <span class="timeline-year">2020</span>
                        </div>
                        <h3 class="timeline-title">Resmi Pacaran</h3>
                        <p class="timeline-text">Akhirnya! Hari dimana kamu resmi menjadi milikku. Aku sangat bahagia dan tidak bisa berhenti tersenyum sepanjang hari. Kamu adalah impian yang jadi kenyataan.</p>
                    </div>
                </div>

                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <div class="timeline-content">
                        <div class="timeline-date">
                            <span class="timeline-month">Desember</span>
                            <span class="timeline-year">2021</span>
                        </div>
                        <h3 class="timeline-title">Ulang Tahun Pertama Kita</h3>
                        <p class="timeline-text">Kita merayakan 1 tahun bersama. Setiap hari denganmu terasa seperti pemberian yang luar biasa. Aku tidak sabar untuk menciptakan lebih banyak kenangan indah bersama.</p>
                    </div>
                </div>

                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <div class="timeline-content">
                        <div class="timeline-date">
                            <span class="timeline-month">Februari</span>
                            <span class="timeline-year">2023</span>
                        </div>
                        <h3 class="timeline-title">Petualangan Pertama Kita</h3>
                        <p class="timeline-text">Liburan ke tempat yang indah, tapi yang paling indah adalah waktu yang aku habiskan bersamamu. Setiap sunset, setiap momen, semuanya jadi lebih bermakna.</p>
                    </div>
                </div>

                <div class="timeline-item">
                    <div class="timeline-dot"></div>
                    <div class="timeline-content">
                        <div class="timeline-date">
                            <span class="timeline-month">Desember</span>
                            <span class="timeline-year">2025</span>
                        </div>
                        <h3 class="timeline-title">Hari Istimewa Kamu</h3>
                        <p class="timeline-text">Hari ini adalah hari yang akan aku ingat selamanya. Hari dimana kita merayakan kebahagiaan dan cinta yang telah kita bangun bersama. Terima kasih telah menjadi bagian terbaik dari hidupku. ğŸ‚ğŸ’•</p>
                    </div>
                </div>
            </div>

            <div class="journey-section">
                <div class="journey-emoji">ğŸš€</div>
                <h3 class="journey-title">Perjalanan Kita Belum Berakhir</h3>
                <p class="journey-text">
                    Ini baru awal dari sebuah petualangan yang lebih besar. Ada banyak lagi halaman kosong di buku kisah kita yang menunggu untuk ditulis. Bersama kamu, aku yakin bahwa masa depan akan lebih indah dari apapun yang pernah aku bayangkan. Mari kita ciptakan lebih banyak kenangan, lebih banyak tawa, dan lebih banyak momen-momen berharga. Aku mencintaimu, sekarang dan selamanya. ğŸ’•âœ¨
                </p>
            </div>
        </div>
    </section>
    
    </div><!-- END hidden-sections-container -->

    <script src="shared.js"></script>
    <script>
        // Musik dikelola oleh shared.js (global player)

        // ===== PASSWORD SYSTEM =====
        const CORRECT_PASSWORD = "0701";
        let currentPassword = "";
        const passwordDigits = document.querySelectorAll('.password-digit');
        const passwordMessage = document.getElementById('passwordMessage');
        const submitBtn = document.getElementById('submitBtn');
        const deleteBtn = document.getElementById('deleteBtn');
        const numButtons = document.querySelectorAll('.password-num-btn');
        const passwordContainer = document.getElementById('passwordContainer');
        
        // Cek apakah sudah pernah login
        if (localStorage.getItem('isLoggedIn') === 'true') {
            passwordContainer.classList.add('hidden');
            passwordContainer.style.display = 'none';
        }

        // Tambah background animation emoji
        const emojis = ['ğŸ’–', 'ğŸ‚', 'ğŸ‰', 'ğŸŒŸ', 'ğŸ’•', 'ğŸ', 'âœ¨', 'ğŸ’Œ'];
        const bgAnimation = document.getElementById('backgroundAnimation');
        for (let i = 0; i < 20; i++) {
            const emoji = document.createElement('div');
            emoji.className = 'floating-emoji';
            emoji.textContent = emojis[Math.floor(Math.random() * emojis.length)];
            emoji.style.left = Math.random() * 100 + '%';
            emoji.style.top = Math.random() * 100 + '%';
            emoji.style.animationDelay = Math.random() * 6 + 's';
            emoji.style.fontSize = (Math.random() * 1.5 + 2) + 'rem';
            bgAnimation.appendChild(emoji);
        }

        // Number button handlers
        numButtons.forEach(btn => {
            btn.addEventListener('click', function() {
                if (currentPassword.length < 4) {
                    currentPassword += this.dataset.num;
                    updateDisplay();
                    playClickSound();
                }
            });
        });

        // Keyboard input
        passwordDigits.forEach(input => {
            input.addEventListener('keydown', function(e) {
                if (e.key >= '0' && e.key <= '9') {
                    if (currentPassword.length < 4) {
                        currentPassword += e.key;
                        updateDisplay();
                    }
                } else if (e.key === 'Backspace') {
                    currentPassword = currentPassword.slice(0, -1);
                    updateDisplay();
                } else if (e.key === 'Enter') {
                    checkPassword();
                }
                e.preventDefault();
            });
        });

        // Delete button
        deleteBtn.addEventListener('click', function() {
            currentPassword = "";
            updateDisplay();
            playClickSound();
            passwordMessage.textContent = '';
        });

        // Submit button
        submitBtn.addEventListener('click', checkPassword);

        function updateDisplay() {
            // Update digit displays with actual numbers (cute style)
            passwordDigits.forEach((digit, index) => {
                if (index < currentPassword.length) {
                    digit.value = currentPassword[index];
                    digit.classList.add('filled');
                } else {
                    digit.value = '';
                    digit.classList.remove('filled', 'error');
                }
            });

            // Enable/disable submit button
            submitBtn.disabled = currentPassword.length !== 4;
            submitBtn.style.opacity = currentPassword.length === 4 ? '1' : '0.5';
            
            // Clear message
            if (passwordMessage.classList.contains('error')) {
                passwordMessage.classList.remove('error');
                passwordMessage.textContent = '';
            }
        }

        function checkPassword() {
            if (currentPassword.length !== 4) return;

            if (currentPassword === CORRECT_PASSWORD) {
                // Correct password
                passwordMessage.classList.remove('error');
                passwordMessage.textContent = 'âœ… Berhasil! Selamat datang...';
                passwordMessage.style.color = '#28a745';
                
                // Simpan status login
                localStorage.setItem('isLoggedIn', 'true');
                
                playSuccessSound();
                
                // Animate out
                setTimeout(() => {
                    passwordContainer.style.animation = 'fadeOut 0.8s ease forwards';
                    setTimeout(() => {
                        passwordContainer.classList.add('hidden');
                    }, 800);
                }, 500);
            } else {
                // Wrong password
                currentPassword = "";
                updateDisplay();
                
                passwordMessage.classList.add('error');
                passwordMessage.textContent = 'âŒ Kode salah! Coba lagi...';
                
                // Shake all digit inputs
                passwordDigits.forEach(digit => {
                    digit.classList.add('error');
                    setTimeout(() => digit.classList.remove('error'), 500);
                });
                
                playClickSound();
                
                setTimeout(() => {
                    passwordMessage.textContent = '';
                }, 2000);
            }
        }

        // Add fadeOut animation
        const style = document.createElement('style');
        style.textContent = `
            @keyframes fadeOut {
                from { opacity: 1; }
                to { opacity: 0; }
            }
        `;
        document.head.appendChild(style);

        // Set first input focus
        passwordDigits[0].focus();
    
        // Generate stars
        const starsContainer = document.getElementById('starsContainer');
        for (let i = 0; i < 100; i++) {
            const star = document.createElement('div');
            star.className = 'star';
            star.style.left = Math.random() * 100 + '%';
            star.style.top = Math.random() * 100 + '%';
            star.style.animationDelay = Math.random() * 3 + 's';
            starsContainer.appendChild(star);
        }

        // Confetti animation on page load
        function createConfetti() {
            for (let i = 0; i < 50; i++) {
                const confetti = document.createElement('div');
                confetti.className = 'confetti-piece';
                confetti.style.left = Math.random() * 100 + 'vw';
                confetti.style.top = '-10px';
                confetti.style.width = Math.random() * 10 + 5 + 'px';
                confetti.style.height = confetti.style.width;
                confetti.style.background = ['var(--pink-primary)', 'var(--blue-primary)', 'var(--yellow)', 'var(--purple)'][Math.floor(Math.random() * 4)];
                confetti.style.borderRadius = Math.random() > 0.5 ? '50%' : '0';
                confetti.style.animationDelay = Math.random() * 0.5 + 's';
                document.body.appendChild(confetti);
                setTimeout(() => confetti.remove(), 3500);
            }
        }

        // Click event to create floating hearts
        document.addEventListener('click', (e) => {
            if (e.target.closest('.nav-card')) {
                for (let i = 0; i < 3; i++) {
                    const heart = document.createElement('div');
                    heart.className = 'floating-hearts';
                    heart.textContent = 'â¤ï¸';
                    heart.style.left = e.clientX + 'px';
                    heart.style.top = e.clientY + 'px';
                    document.body.appendChild(heart);
                    setTimeout(() => heart.remove(), 4000);
                }
            }
        });

        // Play music on interaction
        createConfetti();
        
        // Create additional confetti every few seconds
        setInterval(createConfetti, 5000);
        
        // Hamburger menu toggle
        const hamburgerBtn = document.getElementById('hamburgerBtn');
        const navbarMenu = document.getElementById('navbarMenu');
        
        if (hamburgerBtn && navbarMenu) {
            hamburgerBtn.addEventListener('click', function() {
                this.classList.toggle('active');
                navbarMenu.classList.toggle('active');
            });
            
            // Close menu when clicking a link
            navbarMenu.querySelectorAll('a').forEach(link => {
                link.addEventListener('click', () => {
                    hamburgerBtn.classList.remove('active');
                    navbarMenu.classList.remove('active');
                });
            });
        }
    </script>
</body>
</html>
